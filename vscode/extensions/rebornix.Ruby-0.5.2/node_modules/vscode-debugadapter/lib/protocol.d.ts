import * as ee from 'events';
import { DebugProtocol } from 'vscode-debugprotocol';
export declare class ProtocolServer extends ee.EventEmitter {
    private static TIMEOUT;
    private _state;
    private _contentLength;
    private _bodyStartByteIndex;
    private _res;
    private _sequence;
    private _writableStream;
    private _pendingRequests;
    constructor();
    protected start(inStream: NodeJS.ReadableStream, outStream: NodeJS.WritableStream): void;
    stop(): void;
    protected send(command: string, args: any, timeout?: number): Promise<DebugProtocol.Response>;
    sendEvent(event: DebugProtocol.Event): void;
    sendResponse(response: DebugProtocol.Response): void;
    protected dispatchRequest(request: DebugProtocol.Request): void;
    private _sendRequest(command, args, timeout, cb);
    private _emitEvent(event);
    private _send(typ, message);
    private _newRes(raw);
    private _handleData(d);
    private _dispatch(message);
}
